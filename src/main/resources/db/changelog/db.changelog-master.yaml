databaseChangeLog:
  - changeSet:
        id: 1
        author: illia.kriukov
        changes:
          - createTable:
              tableName: company
              columns:
                - column:
                    name: id
                    type: int
                    autoIncrement: true
                    constraints:
                      primaryKey: true
                      nullable: false
                - column:
                    name: email
                    type: varchar(50)
                    constraints:
                      nullable: false
                - column:
                    name: password
                    type: varchar(50)
                    constraints:
                      nullable: false
                - column:
                    name: name
                    type: varchar(50)
                    constraints:
                      nullable: false
                - column:
                    name: description
                    type: varchar(200)
                    constraints:
                      nullable: true
  - changeSet:
        id: 2
        author: illia.kriukov
        changes:
          - createTable:
              tableName: representative
              columns:
                - column:
                    name: id
                    type: int
                    autoIncrement: true
                    constraints:
                      primaryKey: true
                      nullable: false
                - column:
                    name: email
                    type: varchar(50)
                    constraints:
                      nullable: false
                - column:
                    name: password
                    type: varchar(50)
                    constraints:
                      nullable: false
                - column:
                    name: name
                    type: varchar(50)
                    constraints:
                      nullable: false
                - column:
                    name: company_id
                    type: int
                    constraints:
                      nullable: false
                      foreignKey: true
                      foreignKeyName: fk_company_id
                      reference: company(id)
  - changeSet:
        id: 3
        author: illia.kriukov
        changes:
          - addForeignKeyConstraint:
              baseColumnNames: company_id
              baseTableName: representative
              constraintName: fk_company_id
              onDelete: CASCADE
              onUpdate: RESTRICT
              referencedColumnNames: id
              referencedTableName: company
  - changeSet:
        id: 4
        author: kazilas.panagiotis
        changes:
          - createTable:
              tableName: category
              columns:
                - column:
                    name: id
                    type: int
                    autoIncrement: true
                    constraints:
                      primaryKey: true
                      nullable: false
                - column:
                    name: name
                    type: varchar(50)
                    constraints:
                      nullable: false
  - changeSet:
        id: 5
        author: illia.kriukov
        changes:
          - createTable:
              tableName: product
              columns:
                - column:
                    name: id
                    type: int
                    autoIncrement: true
                    constraints:
                      primaryKey: true
                      nullable: false
                - column:
                    name: name
                    type: varchar(50)
                    constraints:
                      nullable: false
                - column:
                    name: model
                    type: varchar(50)
                    constraints:
                      nullable: false
                - column:
                    name: company_id
                    type: int
                    constraints:
                      nullable: false
                      foreignKey: true
                      foreignKeyName: fk_p_company_id
                      reference: company(id)
  - changeSet:
        id: 6
        author: illia.kriukov
        changes:
          - addForeignKeyConstraint:
              baseColumnNames: company_id
              baseTableName: product
              constraintName: fk_p_company_id
              onDelete: CASCADE
              onUpdate: RESTRICT
              referencedColumnNames: id
              referencedTableName: company
  - changeSet:
        id: 7
        author: illia.kriukov
        changes:
          - createTable:
              tableName: product_category
              columns:
                - column:
                    name: product_id
                    type: int
                    constraints:
                      primaryKey: true
                      nullable: false
                      foreignKey: true
                      foreignKeyName: fk_pc_product_id
                      reference: product(id)
                - column:
                    name: category_id
                    type: int
                    constraints:
                      primaryKey: true
                      nullable: false
                      foreignKey: true
                      foreignKeyName: fk_pc_category_id
                      reference: category(id)
  - changeSet:
        id: 8
        author: illia.kriukov
        changes:
          - addForeignKeyConstraint:
              baseColumnNames: product_id
              baseTableName: product_category
              constraintName: fk_pc_product_id
              onDelete: CASCADE
              onUpdate: RESTRICT
              referencedColumnNames: id
              referencedTableName: product
  - changeSet:
        id: 9
        author: illia.kriukov
        changes:
          - addForeignKeyConstraint:
              baseColumnNames: category_id
              baseTableName: product_category
              constraintName: fk_pc_category_id
              onDelete: CASCADE
              onUpdate: RESTRICT
              referencedColumnNames: id
              referencedTableName: category
  - changeSet:
        id: 10
        author: illia.kriukov
        changes:
          - createTable:
              tableName: video
              columns:
                - column:
                    name: id
                    type: int
                    autoIncrement: true
                    constraints:
                      primaryKey: true
                      nullable: false
                - column:
                    name: product_id
                    type: int
                    constraints:
                      nullable: false
                      foreignKey: true
                      foreignKeyName: fk_v_product_id
                      reference: product(id)
                - column:
                    name: link
                    type: varchar(300)
                    constraints:
                      nullable: false
  - changeSet:
        id: 11
        author: illia.kriukov
        changes:
          - addForeignKeyConstraint:
              baseColumnNames: product_id
              baseTableName: video
              constraintName: fk_v_product_id
              onDelete: CASCADE
              onUpdate: RESTRICT
              referencedColumnNames: id
              referencedTableName: product
  - changeSet:
        id: 12
        author: illia.kriukov
        changes:
          - createTable:
              tableName: manual
              columns:
                - column:
                    name: id
                    type: int
                    autoIncrement: true
                    constraints:
                      primaryKey: true
                      nullable: false
                - column:
                    name: product_id
                    type: int
                    constraints:
                      nullable: false
                      foreignKey: true
                      foreignKeyName: fk_m_product_id
                      reference: product(id)
                - column:
                    name: name
                    type: varchar(100)
                    constraints:
                      nullable: false
                - column:
                    name: file
                    type: longblob
                    constraints:
                      nullable: false
  - changeSet:
        id: 13
        author: illia.kriukov
        changes:
          - addForeignKeyConstraint:
              baseColumnNames: product_id
              baseTableName: manual
              constraintName: fk_m_product_id
              onDelete: CASCADE
              onUpdate: RESTRICT
              referencedColumnNames: id
              referencedTableName: product
  - changeSet:
        id: 14
        author: kazilas.panagiotis
        changes:
          - createTable:
              tableName: consumer
              columns:
                - column:
                    name: id
                    type: int
                    autoIncrement: true
                    constraints:
                      primaryKey: true
                      nullable: false
                - column:
                    name: email
                    type: varchar(50)
                    constraints:
                      nullable: false
                - column:
                    name: password
                    type: varchar(50)
                    constraints:
                      nullable: false
                - column:
                    name: name
                    type: varchar(50)
                    constraints:
                      nullable: false
  - changeSet:
        id: 15
        author: illia.kriukov
        changes:
          - createTable:
              tableName: consumer_product
              columns:
                - column:
                    name: consumer_id
                    type: int
                    constraints:
                      primaryKey: true
                      nullable: false
                      foreignKey: true
                      foreignKeyName: fk_cp_consumer_id
                      reference: consumer(id)
                - column:
                    name: product_id
                    type: int
                    constraints:
                      primaryKey: true
                      nullable: false
                      foreignKey: true
                      foreignKeyName: fk_cp_product_id
                      reference: product(id)
  - changeSet:
        id: 16
        author: illia.kriukov
        changes:
          - addForeignKeyConstraint:
              baseColumnNames: consumer_id
              baseTableName: consumer_product
              constraintName: fk_cp_consumer_id
              onDelete: CASCADE
              onUpdate: RESTRICT
              referencedColumnNames: id
              referencedTableName: consumer
  - changeSet:
        id: 17
        author: illia.kriukov
        changes:
          - addForeignKeyConstraint:
              baseColumnNames: product_id
              baseTableName: consumer_product
              constraintName: fk_cp_product_id
              onDelete: CASCADE
              onUpdate: RESTRICT
              referencedColumnNames: id
              referencedTableName: product