databaseChangeLog:
	- changeSet:
		id: 1
        author: illia.kriukov
        changes:
          - createTable:
              tableName: company
              columns:
                - column:
                    name: id
                    type: int
                    autoIncrement: true
                    constraints:
                      primaryKey: true
                      nullable: false
                - column:
                    name: email
                    type: varchar(50)
                    constraints:
                      nullable: false
                - column:
                    name: password
                    type: varchar(50)
                    constraints:
                      nullable: false
                - column:
                    name: name
                    type: varchar(50)
                    constraints:
                      nullable: false
                - column:
                    name: description
                    type: varchar(200)
                    constraints:
                      nullable: true
  - changeSet:
        id: 2
        author: illia.kriukov
        changes:
          - createTable:
              tableName: representative
              columns:
                - column:
                    name: id
                    type: int
                    autoIncrement: true
                    constraints:
                      primaryKey: true
                      nullable: false
                - column:
                    name: email
                    type: varchar(50)
                    constraints:
                      nullable: false
                - column:
                    name: password
                    type: varchar(50)
                    constraints:
                      nullable: false
                - column:
                    name: name
                    type: varchar(50)
                    constraints:
                      nullable: false
                - column:
                    name: company_id
                    type: int
                    constraints:
                      nullable: false
                      foreignKey: true
                      foreignKeyName: fk_company_id
                      reference: company(id)
  - changeSet:
        id: 3
        author: illia.kriukov
        changes:
          - addForeignKeyConstraint:
              baseColumnNames: company_id
              baseTableName: representative
              constraintName: fk_company_id
              onDelete: CASCADE
              onUpdate: RESTRICT
              referencedColumnNames: id
              referencedTableName: company
			  
  - changeSet:
        id: 4
        author: Kazilas.Panagiotis
        changes:
        - createTable:
			tableName: product
            columns:
            - column:
				name: id
				type: int
				autoIncrement: true
				constraints:
				primaryKey: true
				nullable: false
            - column:
				name: name
				type: varchar(50)
				constraints:
				nullable: false
            - column:
				name: description
				type: varchar(50)
				constraints:
				nullable: true
			- column:
				name: company
				type: int
				nullable: false
		- createTable:
			tableName: category
            columns:
            - column:
              name: id
              type: int
              autoIncrement: true
              constraints:
              primaryKey: true
              nullable: false
            - column:
              name: name
              type: varchar(50)
              constraints:
              nullable: false
		- createTable:
			tableName: productCategories
            columns:
            - column:
              name: product_id
              type: int
              constraints:
              primaryKey: true
              nullable: false
            - column:
              name: category_id
              type: int
              constraints:
              nullable: false
			  
		- addForeignKeyConstraint:
              baseColumnNames: company_id
              baseTableName: product
              constraintName: fk_company_id
              onDelete: CASCADE
              onUpdate: RESTRICT
              referencedColumnNames: id
              referencedTableName: company
		- addForeignKeyConstraint:
              baseColumnNames: product_id
              baseTableName: productCategories
              constraintName: fk_product_id
              onDelete: CASCADE
              onUpdate: RESTRICT
              referencedColumnNames: id
              referencedTableName: product
		- addForeignKeyConstraint:
              baseColumnNames: category_id
              baseTableName: productCategories
              constraintName: fk_category_id
              onDelete: CASCADE
              onUpdate: RESTRICT
              referencedColumnNames: id
              referencedTableName: category